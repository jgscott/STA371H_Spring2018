x
x = {-1/tau} * crossprod(A, lambda)
z
x
tau = 1e-3#
delmax = 1#
tol = 1e-6#
x = rep(0,p)#
z = y+1#
k=1#
alpha = 1#
lambda = -log(y+1)
alpha = alpha*{k+1}/{k+3}#
	x = {-1/tau} * crossprod(A, lambda)#
	z = y + lambda#
	lambda = lambda + alpha*(A %*% x - log(z))
z
x
tau = 1e-3#
delmax = 1#
tol = 1e-6#
x = rep(0,p)#
z = y+1#
k=1#
alpha = 1#
lambda = 0
alpha = alpha*{k+1}/{k+3}
x = {-1/tau} * crossprod(A, lambda)
lambda = rep(0, n)
alpha = alpha*{k+1}/{k+3}
x = {-1/tau} * crossprod(A, lambda)
x
z = y + lambda
z
lambda = lambda + alpha*(A %*% x - log(z))
lambda
z
lambda = rep(.1, n)
alpha = alpha*{k+1}/{k+3}
x = {-1/tau} * crossprod(A, lambda)
z = y + lambda
lambda = lambda + alpha*(A %*% x - log(z))
x
curve(x - 2*log(x) - (-0.1)*x, from=0, to=10)#
#
n = 100#
p = 5#
beta = rt(p,3)#
A = matrix(rnorm(n*p), nrow=n)#
#
mu = A %*% beta#
lambda = exp(mu)#
y = rpois(n, lambda)#
#
glm1 = glm(y~A-1, family=poisson)#
summary(glm1)#
#
# now our silly dual strategy#
#
tau = 1e-3#
delmax = 1#
tol = 1e-6#
x = rep(0,p)#
z = y+1#
k=1#
alpha = 1#
lambda = rep(.1, n)
tau = 1#
delmax = 1#
tol = 1e-6#
x = rep(0,p)#
z = y+1#
k=1#
alpha = 1#
lambda = rep(.1, n)
alpha = alpha*{k+1}/{k+3}
x = {-1/tau} * crossprod(A, lambda)
z = y + lambda
lambda = lambda + alpha*(A %*% x - log(z))
x
z
lambda
alpha = alpha*{k+1}/{k+3}#
	x = {-1/tau} * crossprod(A, lambda)#
	z = y + lambda#
	lambda = lambda + alpha*(A %*% x - log(z))
alpha
x
z
lambda
curve( x^2 + abs(x-1), from=-3, to=3)
lpoch = function(a,b)#
{#
	sum(log(a+1:b-1))#
}
Levinson = function(T,y)#
{#
	n = length(y)#
	f = matrix(0,n,n)#
	b = matrix(0,n,n)#
#
	f[1,1] = b[1,1] = 1/T[1,1]#
	for ( i in 2:n )#
	{#
		ef = crossprod(T[i,1:(i-1)], f[1:(i-1),i-1]) #
		eb = crossprod(T[1,2:i], b[1:(i-1),i-1])#
		f[1:(i-1),i] = 1/(1-ef*eb)*f[1:(i-1),i-1]#
		f[2:i,i] = f[2:i,i] - ef/(1-ef*eb)*b[1:(i-1),i-1]#
		b[1:(i-1),i] = -eb/(1-ef*eb)*f[1:(i-1),i-1]#
		b[2:i,i] = b[2:i,i] + 1/(1-ef*eb)*b[1:(i-1),i-1]#
	}#
	x = y[1]*b[,1]#
	for ( i in 2:n )#
	{#
		ex = crossprod(T[i,],x)#
		x = x + (y[i]-ex)*b[,i]#
	}#
	x#
}
residue = function(a,b,c_0,m)#
{#
	T = length(m)-1#
	Mb = sum(m) + b#
	c_T = c_0 + T#
	A = matrix(0,Mb,Mb)#
	y = rep(0,Mb)#
	for ( i in 1:Mb )#
	{#
		A[Mb+1-i,] = 1/(i+a+1:Mb-1)#
		for ( j in 0:T )#
			y[Mb+1-i] = y[Mb+1-i] + lpoch(i/c_T,m[j+1])#
		y[Mb+1-i] = exp(y[Mb+1-i] - lpoch(i+a,Mb))#
	}#
#
	Levinson(A,y)#
}
dconjNB = function(r,a,b,c_0,m)#
{	#
	res_pr = residue(a,b,c_0,m[1])#
	C_0 = -crossprod(res_pr,log(a+1:(m[1]+b)-1))/c_0#
#
	T = length(m)-1#
	c_T = c_0 + T#
	M = sum(m)#
	res_po = residue(a,b,c_0,m)#
	C_T = -crossprod(res_po,log(a+1:(M+b)-1))/(c_T)#
	prior = rep(0,length(r))#
	for ( i in 1:(m[1]+b) )#
	 	prior = prior + res_pr[i]/(c_0*r+a+i-1)/C_0#
	post = rep(0,length(r))#
	for ( i in 1:(M+b) )#
	 	post = post + res_po[i]/(c_T*r+a+i-1)/C_T#
	list(prior=prior,post=post)#
}
r = 0:200/40#
p = dconjNB(r,1,2,3,c(2,5,3,4,1))#
plot(r,p$prior,type='l',ylim=c(0,0.5),xlab='r',ylab='density')#
lines(r,p$post,col=2)#
legend("topright",c("prior","posterior"),lty=1,col=1:2)
curve(0.5*x^2 + cosh(x/2), from=-5, to=5)
curve(cosh(x/2), from=-5, to=5)
curve(0.5*x^2 + ccosh(x/2), from=-5, to=5)
curve(0.5*x^2 + cosh(x/2), from=-5, to=5)
curve(0.5*x^2 - cosh(x/2), from=-5, to=5)
curve(0.5*x^2 + cosh(x/2), from=-5, to=5)
curve(cosh(x), from=-5, to=5)
curve(-log(cosh(x/2)), from=-5, to=5)
curve(log(cosh(x/2)), from=-5, to=5)
curve(-log(cosh(x/2)), from=-5, to=5)
curve(0.5*x^2 -log(cosh(x/2)), from=-5, to=5)
curve(0.5*x^2 - - log(cosh(x/2)), from=-5, to=5)
curve(0.5*x^2 + log(cosh(x/2)), from=-5, to=5)
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=3)
y = 3#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=3)
y = 3#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=10)
y = 2#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=10)
y = 1#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=10)
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=14)
y = 1#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=4)
y = 0.5#
#
curve(0.5*(x-y)^2 + x/{2*(1+x)}, from=0, to=4)
g = 0.5#
#
curve({abs(x)^g}/{2*(1+abs(x)^g)}, from=0, to=2)#
curve(0.5*x^2 - {abs(x)^g}/{2*(1+abs(x)^g)}, from=0, to=2)#
#
curve(exp(-pmin(1, x^2/2)), from=-3,to=3)#
#
curve(0.5*x^2 - pmin(1, x^2/2), from=-3,to=3)#
#
curve(0.5*x^2 + x/{2*(1+x)}, from=0,to=3)#
#
curve(x/{2*(1+x)}, from=0,to=3)#
#
psi = function(lambda) return(lambda/{2*(1+lambda)})#
qq = function(lambda,x) return(0.5*(x-lambda)^2 + psi(lambda))#
phi = function(x) {#
	optimize(qq, lower=0, upper=100, x = x)$objective#
}
xgrid = seq(0,5,length=1000)#
ygrid = xgrid#
for(i in seq_along(xgrid)) {#
	ygrid[i] = phi(abs(xgrid[i]))#
}#
#
plot(xgrid, ygrid, type='l')
par(mfrow=c(1,2))#
curve(x/{2*(1+x)}, from=0, to=5, add=TRUE)#
plot(xgrid, ygrid, type='l')
par(mfrow=c(1,2))#
curve(x/{2*(1+x)}, from=0, to=5)#
plot(xgrid, ygrid, type='l')
plot(xgrid, exp(-ygrid), type='l')
curve(x/{2*(1+x)}, from=0, to=10)
xgrid = seq(0,10,length=1000)#
ygrid = xgrid#
for(i in seq_along(xgrid)) {#
	ygrid[i] = phi(abs(xgrid[i]))#
}
plot(xgrid, exp(-ygrid), type='l')
curve(dt(x/5, 1), add=TRUE)
plot(xgrid, exp(-ygrid), type='l')#
curve(dt(x, 1), add=TRUE)
curve(dt(x/3, 1), add=TRUE)
curve(dt(x/2, 1), add=TRUE)
curve(dt(x/4, 1), add=TRUE)
plot(xgrid, exp(-ygrid), type='l')
curve(dt(x/4, 1))
curve(dt(4*x, 1))
curve(dt(x/2, 1))
curve(dt(x/2, 1), from=0, to=10)
curve(5*dt(x/2, 1), from=0, to=10)
curve(3*dt(x/2, 1), from=0, to=10)
plot(xgrid, exp(-ygrid), type='l')
curve(3*dt(x/2, 1), from=0, to=10, add=TRUE)
curve(3*dt(x, 1), from=0, to=10, add=TRUE)
curve(3*dt(x/10, 1), from=0, to=10, add=TRUE)
curve(3*dt(x/5, 1), from=0, to=10, add=TRUE)
plot(xgrid, exp(-ygrid), type='l')#
curve(3*dt(x/5, 1), from=0, to=10, add=TRUE)
?bars
??bars
?segments
D = 200#
theta = rnorm(D,0,0.2)#
w = exp(theta)/sum(exp(theta))#
#
mygrid = seq(-5,5,length=D)#
#
segments(mygrid,0,mygrid,w)
?segments
plot(w)
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
w = exp(theta)/sum(exp(theta))#
#
mygrid = seq(-5,5,length=D)#
#
segments(mygrid,0,mygrid,w)#
#
plot(w)
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
#
zeta = rnorm(D,0,0.1)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
segments(mygrid,0,mygrid,w)#
#
plot(w)
zeta
cumsum(zeta)
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(w)
plot(mygrid, w, type='s')
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
#
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)))
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)))
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
#
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)))
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)))
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n')
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE)
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
#
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5,5,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1)
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1)
D = 200#
theta = rep(0,D)#
for(j in 2:D) {#
	theta[j] = rnorm(1, theta[j-1],0.2)#
}#
#
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1)
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
mygrid = seq(-5.1,5.1,length=D)#
par(mfrow=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
par(mar=c(4,1,1,1))
zeta = rnorm(D,0,0.01)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
zeta = rnorm(D,0,0.001)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
zeta = rnorm(D,0,0.1)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
zeta = rnorm(D,0,0.05)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
zeta = 0.03*rt(D,4)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
zeta = 0.02*rt(D,4)#
theta= cumsum(cumsum(zeta))#
w = exp(theta)/sum(exp(theta))#
mygrid = seq(-5.1,5.1,length=D)#
par(mar=c(4,1,1,1))#
plot(mygrid, w, type='s', ylim=c(0,max(w)), bty='n', axes=FALSE, xlab='', ylab='')#
axis(1, at=-5:5)
1.01^10
1.01^60
??directory
filelist = list.files(".")
filelist
filelist = list.files(".")#
#
writefile = "../_data/r.yml"#
#
myfile = filelist[1]#
cat("- r: ", myfile, sep='', file= writefile)#
#
for(i in 2:length(filelist)) {#
	myfile = filelist[i]#
	cat("- r: ", myfile, sep='', file= writefile, append=TRUE)#
}
filelist = list.files(".")#
#
writefile = "../_data/r.yml"#
#
myfile = filelist[1]#
cat("- r: ", myfile, "\n", sep='', file= writefile)#
#
for(i in 2:length(filelist)) {#
	myfile = filelist[i]#
	cat("- r: ", myfile, "\n", sep='', file= writefile, append=TRUE)#
}
rlist = list.files("../r/")
rlist
readr = list.files("../r/")
readr
readdat = list.files("../data/")
readdta
readdat
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- r: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}
Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- r: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}
readexamples = list.files("../files/examples/")
writedat = "examples.yml"
readexamples
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
}
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
for(i in 2:length(readdat)) {#
	myfile = readexamples[i]#
	cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
}
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
for(i in 2:length(readexamples)) {#
	myfile = readexamples[i]#
	cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
}
}#
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
if(length(readexamples) > 1) {#
	for(i in 2:length(readexamples)) {#
		myfile = readexamples[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
	}#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
if(length(readexamples) > 1) {#
	for(i in 2:length(readexamples)) {#
		myfile = readexamples[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
	}#
}
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"
readscribe
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
readexamples = list.files("../files/examples/")#
writeexamples = "examples.yml"#
#
myfile = readexamples[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexamples)#
#
if(length(readexamples) > 1) {#
	for(i in 2:length(readexamples)) {#
		myfile = readexamples[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexamples, append=TRUE)#
	}#
}#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
readexercises = list.files("../files/exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
#
exercises#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
for(i in 2:length(readr)) {#
	myfile = readr[i]#
	cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
}#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../files/exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../files/exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- example: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- example: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
plot(x, x + rnorm(100,0,0.2), pch=19, col=sample(mycols, 100))
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
plot(x, x + rnorm(100,0,0.2), pch=19, col=sample(my_cols, 100))
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
plot(x, x + rnorm(100,0,0.2), pch=19, col=sample(my_cols, 100, replace=TRUE))
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.2), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.4), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.6), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.6), pch=19, col=sample(my_cols, 100, prob=x, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
plot(x, x + rnorm(100,0,0.6), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen', 'grey')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.6), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
x = runif(100,0,1)#
my_cols = c('red', 'blue', 'darkgreen')#
#
par(mar=c(0,0,0,0))#
plot(x, x + rnorm(100,0,0.6), pch=19, col=sample(my_cols, 100, replace=TRUE), axes=FALSE,#
	xlab='', main='', ylab='', bty='n')#
abline(0,1)
# R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../files/exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
# R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
# R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # # Scribe files#
#
# readscribe = list.files("../files/scribe/")#
# writescribe = "scribe.yml"#
#
# myfile = readscribe[1]#
# cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
# if(length(readscribe) > 1) {#
	# for(i in 2:length(readscribe)) {#
		# myfile = readscribe[i]#
		# cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	# }#
# }
# R files#
#
readr = list.files("../r/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
# R files#
#
readr = list.files("../rscripts/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
om = rgamma(10000, d/2, rate = d*eta2/2)
d = 4#
eta2 = 3.2#
#
om = rgamma(10000, d/2, rate = d*eta2/2)
mean(sig2)
d = 4#
eta2 = 3.2#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
#
hist(sig2)#
#
mean(sig2)#
eta2/{1 - 2/d}
d = 7#
eta2 = 9.8#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
#
hist(sig2)#
#
mean(sig2)#
eta2/{1 - 2/d}
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
mean(sig2)#
eta2/{1 - 2/d}
d = 3#
eta2 = 9.8#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
mean(sig2)#
eta2/{1 - 2/d}
d = 2.1#
eta2 = 9.8#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
mean(sig2)#
eta2/{1 - 2/d}
d = 2.4#
eta2 = 9.8#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
mean(sig2)#
eta2/{1 - 2/d}
d = 3.4#
eta2 = 9.8#
#
om = rgamma(10000, d/2, rate = d*eta2/2)#
sig2 = 1/om#
mean(sig2)#
eta2/{1 - 2/d}
# R files#
#
readr = list.files("../rscripts/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
summary(GasPrices)
?switch
ff <- gl(3,1, labels=LETTERS[3:1])
ff
switch(ff[1], A = "I am A", B="Bb..", C=" is C")# -> "I am A"
?sapply
ccc <- c("b","QQ","a","A","bb")#
# note: cat() produces no output for NULL#
for(ch in ccc)#
    cat(ch,":", switch(EXPR = ch, a = 1, b = 2:3), "\n")#
for(ch in ccc)#
    cat(ch,":", switch(EXPR = ch, a =, A = 1, b = 2:3, "Otherwise: last"),"\n")#
#
## switch(f, *) with a factor f
# R files#
#
readr = list.files("../rscripts/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
?rlm
library(MASS)
?rlm
?stack.loss
?rlm
x1 = c(11, 213)#
n1 = c(213, 3169)#
#
x1/n1#
#
x2 = c(13, 32)#
n2 = c(102, 206)#
#
x2/n2
# R files#
#
readr = list.files("../rscripts/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
# R files#
#
readr = list.files("../rscripts/")#
writer = "r.yml"#
#
myfile = readr[1]#
cat("- r: ", myfile, "\n", sep='', file= writer)#
#
if(length(readr) > 1) {#
	for(i in 2:length(readr)) {#
		myfile = readr[i]#
		cat("- r: ", myfile, "\n", sep='', file= writer, append=TRUE)#
	}#
}#
#
# Data files#
#
readdat = list.files("../data/")#
writedat = "data.yml"#
#
myfile = readdat[1]#
cat("- data: ", myfile, "\n", sep='', file= writedat)#
#
for(i in 2:length(readdat)) {#
	myfile = readdat[i]#
	cat("- data: ", myfile, "\n", sep='', file= writedat, append=TRUE)#
}#
# Exercises#
#
readexercises = list.files("../exercises/")#
writeexercises = "exercises.yml"#
#
myfile = readexercises[1]#
cat("- pdf: ", myfile, "\n", sep='', file= writeexercises)#
#
if(length(readexercises) > 1) {#
	for(i in 2:length(readexercises)) {#
		myfile = readexercises[i]#
		cat("- pdf: ", myfile, "\n", sep='', file= writeexercises, append=TRUE)#
	}#
}#
# # Scribe files#
#
readscribe = list.files("../files/scribe/")#
writescribe = "scribe.yml"#
#
myfile = readscribe[1]#
cat("- scribe: ", myfile, "\n", sep='', file= writescribe)#
#
if(length(readscribe) > 1) {#
	for(i in 2:length(readscribe)) {#
		myfile = readscribe[i]#
		cat("- scribe: ", myfile, "\n", sep='', file= writescribe, append=TRUE)#
	}#
}
